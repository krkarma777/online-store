<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Main Page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="/css/common.css">
    <style>
        .product-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .card {
            margin-bottom: 20px;
        }

        .card-title {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            font-size: 1.1rem; /* ì¡°ì •ëœ í°íŠ¸ ì‚¬ì´ì¦ˆ */
        }

        .card-text {
            font-size: 0.9rem; /* ì¡°ì •ëœ í°íŠ¸ ì‚¬ì´ì¦ˆ */
        }

        h2 {
            font-size: 1.6rem; /* ì„¹ì…˜ í—¤ë” í°íŠ¸ ì‚¬ì´ì¦ˆ */
            margin-bottom: 20px;
        }

        .products li {
            display: inline-block;
            width: 23%;
            margin-right: 2%;
        }

        .products li:nth-child(4n) {
            margin-right: 0;
        }

        .btn-primary {
            background-color: #007bff;
            border-color: #007bff;
        }

        .btn-secondary {
            background-color: #6c757d;
            border-color: #6c757d;
        }

        .promotions p, .active-products p, .popular-products p {
            font-size: 0.95rem; /* ì¡°ì •ëœ ë³¸ë¬¸ í°íŠ¸ ì‚¬ì´ì¦ˆ */
        }

        .container {
            max-width: 1200px; /* ì»¨í…Œì´ë„ˆ ìµœëŒ€ ë„ˆë¹„ */
        }

        .section-header {
            text-align: center;
        }

        /* ì„¹ì…˜ë³„ ìŠ¤íƒ€ì¼ë§ ì¶”ê°€ */
        section {
            padding: 20px;
            margin-bottom: 40px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .popular-products {
            background-color: #e9f5ff; /* ì¸ê¸° ìƒí’ˆ ì„¹ì…˜ ë°°ê²½ìƒ‰ */
        }

        .active-products {
            background-color: #fff3e9; /* í™œì„± ìƒí’ˆ ëª©ë¡ ì„¹ì…˜ ë°°ê²½ìƒ‰ */
        }

        .promotions {
            margin-top: 50px;
            background-color: #e8f8e9; /* í”„ë¡œëª¨ì…˜ ë° ì´ë²¤íŠ¸ ì„¹ì…˜ ë°°ê²½ìƒ‰ */
        }

        .section-header {
            text-align: center;
            margin-bottom: 20px;
            color: #333;
            font-weight: bold;
        }

        .promotion-mockup {
            margin-bottom: 20px;
            transition: transform 0.3s ease;
        }

        .promotion-mockup:hover {
            transform: translateY(-5px); /* ë§ˆìš°ìŠ¤ ì˜¤ë²„ ì‹œ ë¼ì´íŠ¸ ì—… íš¨ê³¼ */
        }

        .btn-success, .btn-info {
            margin-top: 10px;
        }
        .center {
            text-align: center;
        }
        /* ë§í¬ ìŠ¤íƒ€ì¼ ë³€ê²½ */
        a, a:hover, a:focus, a:active {
            text-decoration: none; /* ë°‘ì¤„ ì œê±° */
            color: black; /* ê¸€ì”¨ ìƒ‰ìƒì„ ê²€ì€ìƒ‰ìœ¼ë¡œ ì„¤ì • */
        }

        .btn-primary, .btn-success, .btn-info {
            text-decoration: none; /* ë²„íŠ¼ ìŠ¤íƒ€ì¼ì˜ ë§í¬ì— ëŒ€í•´ì„œë„ ë°‘ì¤„ ì œê±° */
            color: white; /* ë²„íŠ¼ ë‚´ í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
        }

        /* ë²„íŠ¼ í˜¸ë²„ ìƒíƒœ */
        .btn-primary:hover, .btn-success:hover, .btn-info:hover {
            color: white; /* í˜¸ë²„ ìƒíƒœì—ì„œì˜ í…ìŠ¤íŠ¸ ìƒ‰ìƒ ìœ ì§€ */
        }
        .section .row + .row {
            margin-top: 30px; /* ì¤„ê³¼ ì¤„ ì‚¬ì´ì˜ ê°„ê²©ì„ 30pxë¡œ ì„¤ì • */
        }

        /* ëª¨ë“  .row ìš”ì†Œë“¤ ì‚¬ì´ì˜ ê°„ê²©ì„ ì¡°ì • */
        .row {
            margin-top: 30px; /* ì¤„ê³¼ ì¤„ ì‚¬ì´ì˜ ê°„ê²©ì„ 30pxë¡œ ì„¤ì • */
        }

        .products li {
            margin-bottom: 30px; /* ì›í•˜ëŠ” ê°„ê²©ìœ¼ë¡œ ì¡°ì • */
        }
        /* ê¸°ì¡´ ìŠ¤íƒ€ì¼ ìœ ì§€ */
        .carousel-container {
            position: relative;
            margin: auto;
            overflow: hidden;
        }

        .carousel-image {
            display: none;
            max-width: 100%; /* ì´ë¯¸ì§€ì˜ ìµœëŒ€ ë„ˆë¹„ë¥¼ ìŠ¬ë¡¯ì— ë§ì¶¤ */
            max-height: 100%; /* ì´ë¯¸ì§€ì˜ ìµœëŒ€ ë†’ì´ë¥¼ ìŠ¬ë¡¯ì— ë§ì¶¤ */
            transition: opacity 0.5s;
            object-fit: cover;
        }

        .carousel-image.active {
            display: block;
            opacity: 1;
        }

        .carousel-shadow-area {
            position: absolute;
            top: 5%;
            bottom: 8%; /* í•˜ë‹¨ ì •ë ¬ì„ ìœ„í•œ ì„¤ì • */
            right: 20%; /* ìš°ì¸¡ ì—¬ë°± ì„¤ì • */
            display: grid;
            grid-template-rows: repeat(6, 1fr);
            width: 5%; /* ë¶€ëª¨ ëŒ€ë¹„ ë„ˆë¹„ ë¹„ìœ¨ */
            height: 90%; /* ë¶€ëª¨ ëŒ€ë¹„ ë†’ì´ ë¹„ìœ¨, í•„ìš”ì— ë”°ë¼ ì¡°ì • */
            gap: 0;
            transition: all 0.3s ease; /* ë¶€ë“œëŸ¬ìš´ ì „í™˜ íš¨ê³¼ */
        }


        .shadow-slot {
            border: 1px solid lightgray; /* ê° ìŠ¬ë¡¯ì˜ ê¸°ë³¸ í…Œë‘ë¦¬ ìƒ‰ìƒ */
            background-color: rgba(255, 255, 255, 0.5);
            display: flex;
            justify-content: center;
            align-items: center; /* í…ìŠ¤íŠ¸ ì¤‘ì•™ ì •ë ¬ */
            transition: border-color 0.3s; /* í…Œë‘ë¦¬ ìƒ‰ìƒ ë³€ê²½ ì• ë‹ˆë©”ì´ì…˜ */
            margin: 0; /* ì™¸ë¶€ ì—¬ë°± ì œê±° */
            padding: 0; /* ë‚´ë¶€ ì—¬ë°± ì œê±° */
            height: 100%; /* ë†’ì´ ì„¤ì •, í•„ìš”ì— ë”°ë¼ ì¡°ì • */
        }

        .shadow-slot:hover {
            border-color: darkgreen; /* ë§ˆìš°ìŠ¤ ì˜¤ë²„ ì‹œ í…Œë‘ë¦¬ ìƒ‰ìƒ */
        }

        /* ì¤‘ê°„ í¬ê¸°ì˜ í™”ë©´ì—ì„œ ì ìš©í•  ìŠ¤íƒ€ì¼ */
        @media (max-width: 1600px) {
            .carousel-shadow-area {
                position: absolute;
                grid-template-rows: repeat(6, 1fr);
                width: 15%; /* í™”ë©´ í¬ê¸°ì— ë”°ë¼ ë„ˆë¹„ ì¡°ì • */
                margin: auto;
            }
            .carousel-img {
                max-height: 80%;
            }
            .shadow-slot {
                width: 60%;
                height: 80%;
            }
        }

        @media (max-width: 768px) {
            .carousel-shadow-area {
                position: relative;
                width: 100%;
                bottom: auto;
                right: auto;
                grid-template-columns: repeat(3, 1fr); /* ëª¨ë°”ì¼ì—ì„œëŠ” ê°€ë¡œë¡œ 3ê°œì˜ ì•„ì´í…œì„ ë³´ì—¬ì¤ë‹ˆë‹¤ */
                grid-template-rows: none;
                gap: 5px;
            }
        }


        .popular-products, .active-products, .promotions {
            background-color: #e8f8e9; /* ì„¹ì…˜ ë°°ê²½ìƒ‰ì„ ë¶€ë“œëŸ¬ìš´ ì´ˆë¡ìƒ‰ ê³„ì—´ë¡œ í†µì¼ */
        }

        .section-header {
            color: #2E8B57; /* ì„¹ì…˜ í—¤ë” ìƒ‰ìƒì„ ì§„í•œ ì´ˆë¡ìƒ‰ìœ¼ë¡œ ì¡°ì • */
        }
        .rank-badge {
            position: absolute;
            top: 10px;
            left: 10px;
            width: 50px;
            height: auto;
            color: white; /* í°ìƒ‰ í…ìŠ¤íŠ¸ */
            padding: 5px 10px;
        }
        .card {
            position: relative; /* ìˆœìœ„ ë°°ì§€ë¥¼ ìœ„í•œ ìƒëŒ€ ìœ„ì¹˜ ì„¤ì • */
            border: 1px solid #4CAF50; /* ì¹´ë“œ í…Œë‘ë¦¬ ìƒ‰ìƒì„ ì´ˆë¡ìƒ‰ìœ¼ë¡œ ì¡°ì • */
            margin-bottom: 20px;
            transition: transform 0.3s ease, box-shadow 0.3s ease; /* Smooth transition for transform and shadow */
            cursor: pointer; /* Change cursor to indicate clickable */
        }

        .card:hover {
            transform: scale(1.05); /* Slightly increase size */
            box-shadow: 0 10px 20px rgba(76, 175, 80, 0.3); /* ë§ˆìš°ìŠ¤ ì˜¤ë²„ ì‹œ ê·¸ë¦¼ì ìƒ‰ìƒì„ ì´ˆë¡ìƒ‰ìœ¼ë¡œ ì¡°ì • */
        }

        .promotion-mockup:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(76, 175, 80, 0.3); /* ë§ˆìš°ìŠ¤ ì˜¤ë²„ ì‹œ ê·¸ë¦¼ì ìƒ‰ìƒì„ ì´ˆë¡ìƒ‰ìœ¼ë¡œ ì¡°ì • */
        }



    </style>
</head>
<body>

<div th:replace="~{common/navBar :: content}"></div>
<div th:replace="~{common/navBar2 :: content}"></div>
<div>
    <div class="carousel-container">
        <img src="/img/main-carousel/1.jpg" class="carousel-image active" alt="Image 1">
        <img src="/img/main-carousel/2.jpg" class="carousel-image" alt="Image 2">
        <img src="/img/main-carousel/3.jpg" class="carousel-image" alt="Image 3">
        <img src="/img/main-carousel/4.jpg" class="carousel-image" alt="Image 4">
        <img src="/img/main-carousel/5.jpg" class="carousel-image" alt="Image 5">
        <img src="/img/main-carousel/6.jpg" class="carousel-image" alt="Image 6">
        <div class="carousel-shadow-area">
            <div class="shadow-slot" data-index="0"><img class="carousel-img" src="/img/main-carousel/item1.jpg" alt="img"></div>
            <div class="shadow-slot" data-index="1"><img class="carousel-img" src="/img/main-carousel/item2.jpg" alt="img"></div>
            <div class="shadow-slot" data-index="2"><img class="carousel-img" src="/img/main-carousel/item3.jpg" alt="img"></div>
            <div class="shadow-slot" data-index="3"><img class="carousel-img" src="/img/main-carousel/item4.jpg" alt="img"></div>
            <div class="shadow-slot" data-index="4"><img class="carousel-img" src="/img/main-carousel/item5.jpg" alt="img"></div>
            <div class="shadow-slot" data-index="5"><img class="carousel-img" src="/img/main-carousel/item6.jpg" alt="img"></div>
        </div>
    </div>
</div>
<div class="container mt-4">

    <!-- í”„ë¡œëª¨ì…˜ ë° ì´ë²¤íŠ¸ ì•ˆë‚´ -->
    <section class="promotions mb-4">
        <h2 class="section-header">ğŸí”„ë¡œëª¨ì…˜ ë° ì´ë²¤íŠ¸ğŸ</h2>
        <div class="row">
            <div class="col">
                <!-- ëª©ì—… ì´ë²¤íŠ¸ ë‚´ìš© -->
                <div class="promotion-mockup" style="background-color: #f8f9fa; padding: 20px; border-radius: 8px; text-align: center;">
                    <h4>ë´„ë§ì´ ëŒ€ë°• í• ì¸!</h4>
                    <p>ì´ë²ˆ ë´„ì—ëŠ” ìš°ë¦¬ ìƒí’ˆì„ íŠ¹ë³„ í• ì¸ê°€ì— ë§Œë‚˜ë³´ì„¸ìš”. ìµœëŒ€ 50%ê¹Œì§€ í• ì¸!</p>
                    <a href="#" class="btn btn-success">ìì„¸íˆ ë³´ê¸°</a>
                </div>
                <div class="promotion-mockup mt-3" style="background-color: #f8f9fa; padding: 20px; border-radius: 8px; text-align: center;">
                    <h4>ì‹ ê·œ íšŒì› íŠ¹ë³„ í˜œíƒ</h4>
                    <p>ì§€ê¸ˆ íšŒì›ìœ¼ë¡œ ê°€ì…í•˜ì‹œë©´ ì²« êµ¬ë§¤ì— í•œí•´ 20% í• ì¸ ì¿ í°ì„ ë“œë¦½ë‹ˆë‹¤.</p>
                    <a href="/register" class="btn btn-info">íšŒì› ê°€ì…í•˜ê¸°</a>
                </div>
            </div>
        </div>
    </section>

    <!-- ì¸ê¸° ìƒí’ˆ ì„¹ì…˜ -->
    <section class="popular-products mb-4">
        <h2 class="section-header">ğŸ”¥ì¸ê¸° ìƒí’ˆğŸ”¥</h2>
        <div class="row row-cols-1 row-cols-md-4 g-4">
            <!-- Thymeleaf ë°˜ë³µë¬¸ ì‚¬ìš©í•˜ì—¬ popularProductListì—ì„œ ìƒí’ˆ ì •ë³´ ë Œë”ë§ -->
            <div th:each="popularProduct, iterStat : ${popularProducts}" class="col">
                <div class="card h-100 center">
                    <!-- ìˆœìœ„ì— ë”°ë¥¸ ë±ƒì§€ í‘œì‹œ -->
                    <div class="rank-badge">
                        <span th:if="${iterStat.count == 1}">ğŸ¥‡</span>
                        <span th:if="${iterStat.count == 2}">ğŸ¥ˆ</span>
                        <span th:if="${iterStat.count == 3}">ğŸ¥‰</span>
                        <span th:if="${iterStat.count > 3}">â­ï¸</span>
                    </div>
                    <a th:href="'product/'+${popularProduct.productID}">
                        <!-- ìƒí’ˆ ì´ë¯¸ì§€ í‘œì‹œ -->
                        <img th:if="${not #lists.isEmpty(popularProduct.imageUrls)}" th:src="@{'uploaded-images/'+${popularProduct.imageUrls[0]}}" class="card-img-top product-image" alt="Product Image">
                        <img th:unless="${not #lists.isEmpty(popularProduct.imageUrls)}" src="/img/logo.png" class="card-img-top product-image" alt="Default Image">
                    </a>
                    <div class="card-body">
                        <a th:href="'product/'+${popularProduct.productID}">
                            <h5 class="card-title" th:text="${popularProduct.productName}">ìƒí’ˆëª…</h5>
                            <p class="card-text" th:text="${#numbers.formatDecimal(popularProduct.price, 0, 'COMMA', 0, 'POINT')} + 'ì›'"></p>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <!-- ì¶”ê°€ëœ í™œì„± ìƒí’ˆ ëª©ë¡ -->
    <section class="active-products mb-4">
        <h2 class="section-header">âœ¨ìƒí’ˆ ëª©ë¡âœ¨</h2>
        <div class="products">
            <ul class="row">
                <li class="col" th:each="product : ${activeProduct}">
                    <div class="card h-100 center">
                        <a th:href="'product/'+${product.productID}">
                            <!-- ìƒí’ˆ ì´ë¯¸ì§€ í‘œì‹œ (ìƒí’ˆ ì´ë¯¸ì§€ê°€ ìˆì„ ê²½ìš°) -->
                            <img th:if="${not #lists.isEmpty(product.imageUrls)}" th:src="@{'uploaded-images/'+${product.imageUrls[0]}}" class="card-img-top product-image" alt="Product Image">
                            <!-- ê¸°ë³¸ ì´ë¯¸ì§€ í‘œì‹œ (ìƒí’ˆ ì´ë¯¸ì§€ê°€ ì—†ì„ ê²½ìš°) -->
                            <img th:unless="${not #lists.isEmpty(product.imageUrls)}" src="/img/logo.png" class="card-img-top product-image" alt="Default Image">
                        </a>
                        <div class="card-body">
                            <a th:href="'product/'+${product.productID}">
                            <h5 class="card-title" th:text="${product.productName}">ìƒí’ˆ ì´ë¦„</h5>
                            <p th:text="${#numbers.formatDecimal(product.price, 0, 'COMMA', 0, 'POINT')} + 'ì›'"></p>
                            </a>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </section>
</div>

<div th:replace="~{common/footer :: footer1}"></div>
<div th:replace="~{common/footer2 :: footer2}"></div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
<script>
    $(document).ready(function() {

        console.log(
            '%c\n' +
            '                                                                        ,,\n' +
            '                                                                       /  ,\n' +
            '                                                                      /   /\n' +
            '                                                                     /   /\n' +
            '                                                                    /   /\n' +
            '    ___________________________                                    /   /\n' +
            '    â¢                         â¥                                   /   /\n' +
            '    â¢   ì˜¤ìœ ì¤€ í¬íŠ¸í´ë¦¬ì˜¤     â¥                                  /   /\n' +
            '    â¢____    _________________â¥                                 /   /\n' +
            '          \\/    ,      ,,                                      /   /\n' +
            '               /'+'%c@'+'%c\\____/'+'%c@'+'%c \\                                ____/   /\n' +
            '              /           \\                         _____/        /__\n' +
            '        /" \\ / â€¢    â€¢      \\                     __/             /  '+'%c@@'+'%c"\\\n' +
            '        \\    '+'%c@@'+'%c  ã……  '+'%c@@'+'%c     /___             ___/                /    _/\n' +
            '       /" \\   \\                 \\__________/                    |__/ "\\\n' +
            '       \\   \\                                                   /      /\n' +
            '        \\    \\  __                                                  _/\n' +
            '         \\                                                       __/\n' +
            '           \\_                                             ______/\n' +
            '              \\ ___                                    __/\n' +
            '                    \\__                             __/\n' +
            '                        \\_____                _____/\n' +
            '                              \\______________/\n' +
            '\n',

            'font-weight: bold;',
            'font-weight: bold; color: #ff7777',
            'font-weight: bold;',
            'font-weight: bold; color: #ff7777',
            'font-weight: bold;',
            'font-weight: bold; color: #ff7777',
            'font-weight: bold;',
            'font-weight: bold; color: #ff7777',
            'font-weight: bold;',
            'font-weight: bold; color: #ff7777',
            'font-weight: bold;'
        );
        console.log('>> %chttps://github.com/krkarma777', 'font-family:monospace; font-weight: bold');


        let currentImageIndex = 0;
        const images = $(".carousel-image");
        const shadowSlots = $(".shadow-slot"); // ì‰ë„ìš° ìŠ¬ë¡¯ ì„ íƒì ì¶”ê°€
        const totalImages = images.length;

        function changeImage(index) {
            images.removeClass('active').eq(index).addClass('active');
            shadowSlots.css('border', '1px solid lightgray').eq(index).css('border', '2px solid darkgreen'); // ëª¨ë“  ìŠ¬ë¡¯ì˜ í…Œë‘ë¦¬ë¥¼ ê¸°ë³¸ìœ¼ë¡œ ì„¤ì •í•˜ê³ , í™œì„± ìŠ¬ë¡¯ì˜ í…Œë‘ë¦¬ë¥¼ ì´ˆë¡ìƒ‰ìœ¼ë¡œ ì„¤ì •
        }

        function nextImage() {
            currentImageIndex = (currentImageIndex + 1) % totalImages;
            changeImage(currentImageIndex);
        }
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì²« ë²ˆì§¸ ì´ë¯¸ì§€ì™€ ê´€ë ¨ëœ ì‰ë„ìš° ìŠ¬ë¡¯ì— ì´ˆë¡ìƒ‰ í…Œë‘ë¦¬ ì ìš©
        changeImage(currentImageIndex);

        setInterval(nextImage, 2000);

        $('.shadow-slot').on('mouseenter', function() {
            const index = $(this).data('index');
            currentImageIndex = index; // í˜„ì¬ ì´ë¯¸ì§€ ì¸ë±ìŠ¤ ì—…ë°ì´íŠ¸
            changeImage(index);
        });
    });
</script>
</body>
</html>
